# 正则表达式

（1）单个字符的匹配。用**\d**可以匹配一个**数字**，**\w**可以匹配一个**字母或数字**，**\s**可以匹配一个**空格**（也包括Tab等空白符），特殊符号需要用**\\**转意，包括**\\**符号本身。**.**可以匹配**任意**字符。

- '00\d'可以匹配'007'，但无法匹配'00A'；

- '\d\d\d'可以匹配'010'；

- '\w\w\d'可以匹配'py3'；

- 'py.'可以匹配'pyc'、'pyo'、'py!'等等。

- \s可以匹配一个空格，\-表示横线-

（2）匹配字符的长度控制。在正则表达式中，用*****表示任意个字符（包括0个），用**+**表示至少一个字符，用**?**表示0个或1个字符，用**{n}**表示n个字符，用**{n,m}**表示n-m个字符。

- \d{3}表示匹配3个数字，例如'010'；

- \s+表示至少有一个空格，例如匹配' '，' '等；

- \d{3,8}表示3-8个数字，例如'1234567'。
- 用正则\d{3}\\-\d{3,8}匹配'010-12345'这样的号码。

（3）要做更精确地匹配，可以用**[]**表示范围。**[]**内部匹配**单个字符**

- [0-9a-zA-Z\_]可以匹配一个数字、字母或者下划线；
- [0-9a-zA-Z\_]+可以匹配至少由一个数字、字母或者下划线组成的字符串，比如'a100'，'0_Z'，'Py3000'等等；
- \[a-zA-Z\\][0-9a-zA-Z\\_]*可以匹配由字母或下划线开头，后接任意个由一个数字、字母或者下划线组成的字符串，也就是Python合法的变量；
- \[a-zA-Z\_][0-9a-zA-Z\_]{0, 19}更精确地限制了变量的长度是1-20个字符（前面1个字符+后面最多19个字符）。

（4）**^**表示行的开头，**^\d**表示必须以数字开头。**$**表示行的结束，**\d$**表示必须以数字结束。

（5）由于Python中**\\**有转义作用。可以 用户**r**前缀解决的是转义字符的问题，其作用是将所有字符均视为普通字符，不用考虑转义的问题了。

```python
s = 'ABC\\-001' # 不使用前缀r表示字符串'ABC\-001'
s = r'ABC\-001' # 使用前缀r表示'ABC\-001'
```

（6）**re**模块。Python提供re模块，包含所有正则表达式的功能。re的**match()**方法可以判断字符串和正则表达式之间是否匹配，如果匹配成功，返回一个Match对象，否则返回None。常见的判断方法就是：

```python
test = '用户输入的字符串'
if re.match(r'正则表达式', test):
    print('ok')
else:
    print('failed')
```

re模块的**split()**用正则表达式切分字符串比用固定的字符更灵活:

```python
>>> 'a b   c'.split(' ')
['a', 'b', '', '', 'c']

>>> re.split(r'[\s\,]+', 'a,b, c  d')
['a', 'b', 'c', 'd']

>>> re.split(r'[\s\,\;]+', 'a,b;; c  d')
['a', 'b', 'c', 'd']
```





